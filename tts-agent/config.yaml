# Plugin Metadata:
# Name: tts-agent
# Version: 0.1.0
# Description: Text-to-speech using Kokoro TTS
# Author: Greg <greg.meldrum@solace.com>
#
# --- Start of Agent Configuration Template ---
# Solace Agent Mesh: Plugin Configuration Template
#
# This file serves as a template for creating new agent configurations from this plugin.
# Use placeholders like __COMPONENT_KEBAB_CASE_NAME__, __COMPONENT_PASCAL_CASE_NAME__,
# and __COMPONENT_UPPER_SNAKE_CASE_NAME__ where the specific component name should be inserted.

log:
  stdout_log_level: INFO
  log_file_level: DEBUG
  log_file: __COMPONENT_KEBAB_CASE_NAME__.log

# To use the `shared_config.yaml` file, uncomment the following line and remove the `shared_config` section below.
!include ../shared_config.yaml

apps:
  - name: __COMPONENT_KEBAB_CASE_NAME__-app
    app_base_path: .
    app_module: solace_agent_mesh.agent.sac.app
    broker:
      <<: *broker_connection

    # App Level Config
    app_config:
      namespace: ${NAMESPACE}
      supports_streaming: true
      agent_name: "__COMPONENT_PASCAL_CASE_NAME__"
      display_name: "__COMPONENT_SPACED_CAPITALIZED_NAME__ Agent"
      model: *general_model

      instruction: |
        You are a Text-to-Speech Agent that converts text into natural-sounding audio using Kokoro TTS.

        Your capabilities:
        - Convert text to speech in multiple languages (English US/UK, French, Italian, Japanese, Chinese)
        - Support both direct text input and text from artifact files
        - Multiple voices available for each language (male and female options)
        - Output audio in MP3 (default) or WAV format

        Available voices by language:

        **English (US)** - Language: en-us
        - Female: af_alloy, af_bella, af_nicole, af_sarah (default), af_sky, af_star, af_nova, af_jessica, af_emma, af_isabella, af_river
        - Male: am_adam, am_echo, am_liam, am_michael, am_eric, am_lewis, am_danny, am_matthew

        **English (UK)** - Language: en-gb
        - Female: bf_alice, bf_emma, bf_isabella, bf_lily
        - Male: bm_daniel, bm_george, bm_lewis, bm_william

        **French** - Language: fr
        - Female: ff_siwis

        **Italian** - Language: it
        - Female: if_sara
        - Male: im_nicola

        **Japanese** - Language: ja
        - Female: jf_alpha, jf_ema, jf_hina
        - Male: jm_kumo, jm_yuki

        **Chinese** - Language: zh
        - Female: zf_xiaobei, zf_xiaoni, zf_xiaoxiao, zf_yunxi
        - Male: zm_yunxi, zm_yunxia, zm_yunyang, zm_yunjian

        When users request TTS:
        1. If they specify a voice, use it directly
        2. If they specify language and/or gender, select an appropriate voice
        3. Default to af_sarah (US English female) if not specified
        4. Always save the output as an artifact

        Model files are automatically downloaded on first use.

      tools:
        # Custom text_to_speech tool
        - tool_type: python
          component_module: tts_agent.tools
          component_base_path: .
          function_name: text_to_speech
          tool_config: {}

        # Artifact management tools
        - tool_type: builtin-group
          group_name: "artifact_management"

      session_service: *default_session_service
      artifact_service: *default_artifact_service

      artifact_handling_mode: "reference"
      enable_embed_resolution: true
      enable_artifact_content_instruction: true

      agent_card:
        description: "Text-to-speech agent using Kokoro TTS with multiple languages and voices"
        defaultInputModes: ["text", "file"]
        defaultOutputModes: ["text", "file"]
        skills:
          - id: "text_to_speech"
            name: "Text to Speech"
            description: "Convert text to natural-sounding speech in multiple languages with various voice options"

      agent_card_publishing: { interval_seconds: 10 }
      agent_discovery: { enabled: false }
      inter_agent_communication:
        allow_list: []
        request_timeout_seconds: 120
